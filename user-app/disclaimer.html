<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="住专 专转 砖砖 驻拽爪转 ZaZa Dance - 转 转 专转">
    <meta name="keywords" content="住专 专转, 转, 转 专转, ZaZa Dance">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="住专 专转 - ZaZa Dance">
    <meta property="og:description" content="住专 专转 砖砖 驻拽爪转 ZaZa Dance - 转 转">
    <meta property="og:type" content="website">
    <meta property="og:locale" content="he_IL">
    
    <title>住专 专转 - ZaZa Dance</title>
    
    <!-- Styles -->
    <link rel="stylesheet" href="legal-styles.css">
    
    <!-- Supabase Client -->
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="https://supabase.com/favicon.ico">
</head>
<body>
    <a href="#main-content" class="skip-link"> 转 注拽专</a>
    
    <div class="container">
        <header class="header">
            <h1>住专 专转</h1>
            <p class="subtitle">ZaZa Dance - 转 转 专转</p>
        </header>
        
        <nav class="nav-menu" role="navigation" aria-label="转驻专  住 砖驻">
            <a href="privacy.html">转 驻专转</a>
            <a href="terms.html">转 砖砖</a>
            <a href="disclaimer.html" class="current" aria-current="page">住专 专转</a>
        </nav>
        
        <main id="main-content" class="content" role="main">
            <div class="loading" id="loading">
                注 转 住专 专转...
            </div>
            
            <div class="error" id="error" style="display: none;">
                <h3>砖 注转 转</h3>
                <p>转爪,  爪 注 转 住专 专转 专注.  住 砖 专 转专.</p>
                <p>转 爪专 转 拽砖专 : <a href="mailto:sharon.art6263@gmail.com">sharon.art6263@gmail.com</a></p>
            </div>
            
            <article id="disclaimer-content" style="display: none;">
                <!-- 转 注  转 -Supabase -->
            </article>
        </main>
        
        <footer class="footer">
            <div class="update-info" id="update-info">
                <!-- 转专 注 注 转 -->
            </div>
            <div class="company-info">
                <strong>ZaZa Dance</strong><br>
                砖拽 68, 转 注专<br>
                <a href="mailto:sharon.art6263@gmail.com">sharon.art6263@gmail.com</a> | 
                <a href="tel:0527274321">0527274321</a>
            </div>
        </footer>
    </div>
    
    <script>
        // Supabase configuration
        const SUPABASE_URL = 'https://yyvoavzgapsyycjwirmg.supabase.co';
        const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inl5dm9hdnpnYXBzeXljandpcm1nIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjU2MzgwODgsImV4cCI6MjA0MTIxNDA4OH0.5deTqJhvgdvw4QUPDNxJ7gGW1FQ3qYNqlUQ6IECy34o';
        
        const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
        
        // Markdown to HTML converter (simple implementation)
        function markdownToHtml(markdown) {
            if (!markdown) return '';
            
            let html = markdown
                // Headers
                .replace(/^### (.*$)/gim, '<h3>$1</h3>')
                .replace(/^## (.*$)/gim, '<h2>$1</h2>')
                .replace(/^# (.*$)/gim, '<h1>$1</h1>')
                
                // Bold and Italic
                .replace(/\*\*(.*)\*\*/gim, '<strong>$1</strong>')
                .replace(/\*(.*)\*/gim, '<em>$1</em>')
                
                // Lists
                .replace(/^\* (.*$)/gim, '<li>$1</li>')
                .replace(/^- (.*$)/gim, '<li>$1</li>')
                .replace(/^\d+\. (.*$)/gim, '<li>$1</li>')
                
                // Links
                .replace(/\[([^\]]*)\]\(([^\)]*)\)/gim, '<a href="$2">$1</a>')
                
                // Line breaks
                .replace(/\n\n/g, '</p><p>')
                .replace(/\n/g, '<br>');
            
            // Wrap in paragraphs and fix lists
            html = '<p>' + html + '</p>';
            html = html.replace(/<p><li>/g, '<ul><li>');
            html = html.replace(/<\/li><\/p>/g, '</li></ul>');
            html = html.replace(/<\/li><br><li>/g, '</li><li>');
            
            // Clean up empty paragraphs
            html = html.replace(/<p><\/p>/g, '');
            html = html.replace(/<p><br><\/p>/g, '');
            
            return html;
        }
        
        // Load disclaimer content
        async function loadDisclaimer() {
            try {
                const { data, error } = await supabase
                    .from('terms_content')
                    .select('*')
                    .eq('content_type', 'disclaimer')
                    .eq('is_active', true)
                    .order('updated_at', { ascending: false })
                    .limit(1);
                
                if (error) {
                    throw error;
                }
                
                if (data && data.length > 0) {
                    const disclaimerData = data[0];
                    
                    // Update page title
                    document.title = disclaimerData.title_he || '住专 专转 - ZaZa Dance';
                    
                    // Convert markdown to HTML
                    const htmlContent = markdownToHtml(disclaimerData.content_he);
                    
                    // Display content
                    const contentElement = document.getElementById('disclaimer-content');
                    contentElement.innerHTML = `
                        <h1>${disclaimerData.title_he || '住专 专转'}</h1>
                        <div class="important-notice">
                            <h3>锔 专转 转 砖</h3>
                            <p>驻 砖砖 驻拽爪, 拽专 注 转 住专 专转. 砖砖 驻拽爪  注 专转 砖转. 转注爪 注 专驻 驻 转转  转转 .</p>
                        </div>
                        ${htmlContent}
                        <div class="important-notice">
                            <h3> 爪 专驻转</h3>
                            <p><strong>砖:</strong>  爪  转注抓 注 专驻 砖驻 驻 转转  转转   驻注转 驻转 砖,   砖  注转 专转转 拽转.</p>
                        </div>
                        <div class="contact-info">
                            <h3> 爪专转 拽砖专 砖 专转</h3>
                            <p>
                                砖转 注 住专 专转:<br>
                                <a href="mailto:sharon.art6263@gmail.com">sharon.art6263@gmail.com</a><br>
                                <a href="tel:0527274321">0527274321</a>
                            </p>
                        </div>
                    `;
                    
                    // Update footer with last update info
                    const updateInfo = document.getElementById('update-info');
                    const updateDate = new Date(disclaimerData.updated_at).toLocaleDateString('he-IL', {
                        year: 'numeric',
                        month: 'long',
                        day: 'numeric'
                    });
                    updateInfo.innerHTML = `
                        <strong>注 专:</strong> ${updateDate}<br>
                        <strong>专住:</strong> ${disclaimerData.version || '1.0'}
                    `;
                    
                    // Hide loading and show content
                    document.getElementById('loading').style.display = 'none';
                    document.getElementById('disclaimer-content').style.display = 'block';
                } else {
                    throw new Error(' 爪 转 住专 专转');
                }
            } catch (error) {
                console.error('Error loading disclaimer:', error);
                
                // Show fallback content instead of error
                const contentElement = document.getElementById('disclaimer-content');
                contentElement.innerHTML = `
                    <h1>住专 专转 - ZaZa Dance</h1>
                    <div class="important-notice">
                        <h3>锔 专转 转 砖</h3>
                        <p>驻 砖砖 驻拽爪, 拽专 注 转 住专 专转. 砖砖 驻拽爪  注 专转 砖转. 转注爪 注 专驻 驻 转转  转转 .</p>
                    </div>
                    
                    <h2>1. </h2>
                    <p>砖砖 驻拽爪转 ZaZa Dance  注 专转 砖转.  拽专 注 转 住专 专转.</p>
                    
                    <h2>2. 转 专转</h2>
                    <p>专  专转  拽  驻爪注 砖注 专 转爪 砖砖 驻拽爪.</p>
                    
                    <h2>3. 爪 专驻转</h2>
                    <p> 爪  转注抓 注 专驻 驻 转转  转转   驻注转 驻转.</p>
                    
                    <div class="important-notice">
                        <h3> 爪 专驻转</h3>
                        <p><strong>砖:</strong>  爪  转注抓 注 专驻 砖驻 驻 转转  转转   驻注转 驻转 砖,   砖  注转 专转转 拽转.</p>
                    </div>
                    
                    <div class="contact-info">
                        <h3> 爪专转 拽砖专 砖 专转</h3>
                        <p>
                            砖转 注 住专 专转:<br>
                            <a href="mailto:sharon.art6263@gmail.com">sharon.art6263@gmail.com</a><br>
                            <a href="tel:0527274321">0527274321</a>
                        </p>
                    </div>
                `;
                
                // Hide loading and show content
                document.getElementById('loading').style.display = 'none';
                document.getElementById('disclaimer-content').style.display = 'block';
            }
        }
        
        // Analytics (simple page view tracking)
        function trackPageView() {
            if (typeof gtag !== 'undefined') {
                gtag('event', 'page_view', {
                    page_title: 'Disclaimer',
                    page_location: window.location.href
                });
            }
        }
        
        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', function() {
            loadDisclaimer();
            trackPageView();
            
            // Set focus for accessibility
            document.getElementById('main-content').focus();
        });
        
        // Handle network changes
        window.addEventListener('online', function() {
            if (document.getElementById('error').style.display !== 'none') {
                location.reload();
            }
        });
        
        // Service Worker registration (optional, for offline support)
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('/sw.js')
                    .then(function(registration) {
                        console.log('ServiceWorker registration successful');
                    })
                    .catch(function(error) {
                        console.log('ServiceWorker registration failed');
                    });
            });
        }
    </script>
    
    <!-- Schema.org structured data for SEO -->
    <script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "WebPage",
        "name": "住专 专转 - ZaZa Dance",
        "description": "住专 专转 砖砖 驻拽爪转 ZaZa Dance",
        "url": "https://zazadance.com/disclaimer",
        "inLanguage": "he",
        "publisher": {
            "@type": "Organization",
            "name": "ZaZa Dance",
            "email": "sharon.art6263@gmail.com",
            "telephone": "0527274321",
            "address": {
                "@type": "PostalAddress",
                "streetAddress": "砖拽 68",
                "addressLocality": "转 注专",
                "addressCountry": "IL"
            }
        },
        "dateModified": new Date().toISOString()
    }
    </script>
</body>
</html>